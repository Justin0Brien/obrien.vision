<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Blind Spot</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #333;
            --highlight: #d32f2f;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        h1 { margin-bottom: 0.5rem; font-weight: 300; }
        
        .instructions {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 600px;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .step {
            margin-bottom: 10px;
            font-weight: 500;
        }

        .test-area {
            position: relative;
            width: 800px;
            height: 300px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: flex;
            align-items: center;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .fixation {
            position: absolute;
            left: 50px;
            font-size: 40px;
            font-weight: 900;
            user-select: none;
        }

        /* The Moving Target */
        #target {
            position: absolute;
            left: 300px; /* Initial pos */
            transition: opacity 0.2s;
        }

        /* Modes */
        .dot {
            width: 30px;
            height: 30px;
            background: black;
            border-radius: 50%;
        }

        .line-container {
            display: flex;
            align-items: center;
            width: 200px;
        }
        
        .line-segment {
            height: 4px;
            background: blue;
            flex: 1;
        }
        
        .gap {
            width: 30px;
            height: 30px;
            /* Using a distinct background color here helps prove it's a gap
               but for the illusion to work best, the background must match the paper/screen 
               so the brain fills in the 'surrounding' texture (white) or continues the line.
               
               Actually, for line completion, we need a gap. If the gap falls in blind spot,
               the brain fills the gap with the NEIGHBORING pattern (the line).
            */
            background: transparent; 
            position: relative;
        }
        
        /* Optional: highlight the gap to show it's really there */
        .gap::after {
            content: '';
            display: block;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 4px;
            height: 4px;
            background: #eee; 
            border-radius: 50%;
        }

        .controls {
            margin-top: 2rem;
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .control-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        label { font-weight: bold; }

        input[type="range"] { width: 100%; accent-color: var(--highlight); }

        .mode-btn {
            padding: 8px 16px;
            border: 1px solid #ccc;
            background: #fff;
            cursor: pointer;
            border-radius: 4px;
        }
        .mode-btn.active {
            background: var(--highlight);
            color: white;
            border-color: var(--highlight);
        }

    </style>
</head>
<body>

    <h1>Find Your Blind Spot</h1>

    <div class="instructions">
        <div class="step">1. Close your <span style="color:var(--highlight)">LEFT EYE</span>.</div>
        <div class="step">2. Look directly at the <span style="font-size:1.2em"><b>+</b></span> cross with your <span style="color:var(--highlight)">RIGHT EYE</span>.</div>
        <div class="step">3. Keeping your focus on the cross, move the slider below until the black dot on the right disappears.</div>
        <div class="step"><i>(Alternatively, keep the slider centered and move your head closer or further from the screen).</i></div>
    </div>

    <div class="test-area" id="testArea">
        <div class="fixation">+</div>
        <div id="target" class="dot"></div>
    </div>

    <div class="controls">
        <div class="control-row">
            <button class="mode-btn active" onclick="setMode('dot')">Disappearing Dot</button>
            <button class="mode-btn" onclick="setMode('line')">Magic Line Repair</button>
            <button class="mode-btn" onclick="setMode('yellow')">Yellow Filling</button>
        </div>

        <label>Object Position <span id="posVal" style="font-weight:normal; font-family:monospace"></span></label>
        <input type="range" id="slider" min="100" max="600" value="400">
        
        <p style="font-size: 0.9em; color: #666; text-align: center;">
            When the object hits your blind spot, your brain fills in the missing information based on the surrounding area.
        </p>
    </div>

<script>
    const target = document.getElementById('target');
    const slider = document.getElementById('slider');
    const posVal = document.getElementById('posVal');
    const buttons = document.querySelectorAll('.mode-btn');

    let currentMode = 'dot';

    function updatePos() {
        const val = slider.value;
        target.style.left = val + 'px';
        posVal.innerText = `(${val}px from center)`;
    }

    function setMode(mode) {
        currentMode = mode;
        
        // Update UI
        buttons.forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');

        // Update Target Visual
        target.innerHTML = '';
        target.className = '';
        target.style.background = 'transparent';
        target.style.width = 'auto';
        target.style.height = 'auto';

        if (mode === 'dot') {
            target.className = 'dot';
            document.body.style.background = '#f8f9fa';
            document.querySelector('.test-area').style.background = 'white';
        } 
        else if (mode === 'line') {
            // Create a broken blue line
            // Left segment
            const l = document.createElement('div');
            l.style.width = '100px';
            l.style.height = '6px';
            l.style.background = 'blue';
            
            // Gap
            const g = document.createElement('div');
            g.style.width = '30px';
            g.style.height = '30px';
            g.style.background = 'transparent'; // Shows white background
            g.style.display = 'flex';
            g.style.alignItems = 'center';
            g.style.justifyContent = 'center';
            g.innerHTML = 'x'; // Small marker in gap
            g.style.color = '#ccc';
            g.style.fontSize = '10px';

            // Right segment
            const r = document.createElement('div');
            r.style.width = '100px';
            r.style.height = '6px';
            r.style.background = 'blue';

            const container = document.createElement('div');
            container.style.display = 'flex';
            container.style.alignItems = 'center';

            container.appendChild(l);
            container.appendChild(g);
            container.appendChild(r);
            
            target.appendChild(container);
            document.querySelector('.test-area').style.background = 'white';
        }
        else if (mode === 'yellow') {
            // Yellow background demo
            // Target is a GAP in a yellow field?
            // Or simpler: The background is yellow, the target is a blue dot.
            // When it disappears, does it become yellow?
            
            document.querySelector('.test-area').style.background = '#fceabb'; // Yellowish
            target.className = 'dot';
            target.style.background = 'blue';
        }
    }

    slider.addEventListener('input', updatePos);
    
    // Init
    updatePos();

</script>
</body>
</html>
